<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<title>Aprendiendo VueJS</title>
	<style>
		.glyphicon-check, .glyphicon-unchecked{
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div class="container">
		<div id="app">
			<h1>Lista de tareas</h1>
			<h4 v-if="completedTasks">Tareas completas: {{ completedTasks }}</h4>
			<h4 v-if="incompletedTasks">Tareas incompletas: {{ incompletedTasks }}</h4>
			<ul>
				<li v-for="task in tasks">
					<span v-text="task.title"></span>
					<span @click="completeTask(task)" :class="taskClasses(task)"></span>
				</li>
				<li class="form-inline">
					<input v-on:keyup.enter="addTask" v-model="newTask" type="text" class="form-control">
				</li>
			</ul>
		</div>
	</div>	
	<script src="https://unpkg.com/vue"></script>
	<script>
		var app = new Vue({
			el: '#app',
			data: {
				newTask: "",
				tasks: [
					{title: "Aprender PHP", completed: true},
					{title: "Aprender Laravel", completed: false},
					{title: "Aprender VueJS", completed: false}
				]
			},
			methods: {
				addTask: function(){
					if (this.newTask.length <= 1) return alert('La tarea no puede estar vacÃ­a');

					this.tasks.push({
						title: this.newTask,
						completed: false
					});
					this.newTask = "";
				},
				completeTask: function(task){
					task.completed = ! task.completed;
				},
				taskClasses: function(task){
					console.log('css changed');
					return ['glyphicon', task.completed ? 'glyphicon-check' : 'glyphicon-unchecked'];
				}
			},
			computed: {
				completedTasks: function(){
					return this.tasks.filter(function(task){
						return task.completed;
					}).length;
				},
				incompletedTasks: function(){
					return this.tasks.filter(function(task){
						return ! task.completed;
					}).length;
				}
			}
		});
	</script>
</body>
</html>



